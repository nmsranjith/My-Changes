$(document).ready(function () { $("#ddlschooltypefooter").css("display", "block"); PopulateAutoFooter($("#ddlschooltypefooter").val()); $("#ddlschooltypefooter").kendoDropDownList({ select: a }); function a(b) { var c = this.dataItem(b.item.index()); var d; switch (c.text.toLowerCase()) { case "primary": PopulateAutoFooter("0"); break; case "secondary": PopulateAutoFooter("1"); break; case "all": PopulateAutoFooter("2"); break } } }); function PopulateAutoFooter(a) { $("#TextSearchFooter").autocomplete({ source: function (c, b) { $.ajax({ type: "POST", contentType: "application/json; charset=utf-8", url: GetFile("/controls/SearchHandlerModified/SearchHandlerModified.ashx?ddlDivisionValue=" + a + "&searchtxt=" + encodeURIComponent($("#TextSearchFooter").val())), data: "{}", dataType: "json", success: function (d) { b(d) }, error: function (d) { } }) }, select: function (d, c) { $(this).val(c.item.value); searchFooterHandlerCall() } }) } function onTextSearchAllSelect(a) { var b = this.dataItem(a.item.index()); $("#TextSearchFooter").val(b); searchFooterHandlerCall() } function AnchorFocus(a) { var b = (a.which) ? a.which : a.keyCode; if ((b == 13)) { a.preventDefault(); searchFooterHandlerCall(); return true } } function ProductFooterClick() { searchFooterHandlerCall() } function searchFooterHandlerCall() { var a = ""; if ($("#TextSearchFooter").val() != "" && $("#TextSearchFooter").val() != "Enter your search here...") { a = $("#TextSearchFooter").val(); window.location.href = "/search?q=" + encodeURIComponent(a) + "&division=" + $("#ddlschooltypefooter option:selected").text().toLowerCase() } else { window.location.href = "/search?q=&division=" + $("#ddlschooltypefooter option:selected").text().toLowerCase() } };