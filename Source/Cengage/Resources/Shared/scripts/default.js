function AddTransaction(e,t,n,r,i,s){_gaq.push(["_addTrans",e,t,n,r,i,s])}function AddItem(e,t,n,r,i,s,o){_gaq.push(["_addItem",e,t,n,r,i,s]);if(o)_gaq.push(["_trackTrans"])}function FillOrderDetails(){GAPushTrackPageView("/Goal/purchase-complete/");if($("#cartorderdiv")[0]==undefined){var e=$(".SubsproductTable table tr").length;var t=false;var n=$("#SubsOrderNumber")[0].innerHTML.split(":")[1].trim();var r=$("#SubsAllTotal")[0].innerHTML.trim();var i=$("#SubTax")[0].innerHTML.trim();var s="Free Shipping";var o=$("#CountryName").val();var u=$("#_storeName").val();var a=0;AddTransaction(n,u,r,i,s,o);$(".SubsproductTable table tr").each(function(r){if(a!=0){var i=$(this).find(".qtycls")[0].innerHTML.trim();var s=$(this).find(".titlcls")[0].innerHTML.trim();var o=$(this).find(".isbn").val().trim();var u=$(this).find(".unitRrp").val().trim();var f="Subscription";if(r==e-1)t=true;AddItem(n,o,s,f,u,i,t)}a=1});GAPushTrackPageView("/goal/step6/complete/")}else{var e=$(".CartproductTable table tr").length;var t=false;var n=$("#OrderNumber")[0].innerHTML.trim();var r=$("#Total")[0].innerHTML.trim();var i=$("#Tax")[0].innerHTML.trim();var s=$("#Shipping")[0].innerHTML.trim();var o=$("#CountryName")[0].innerText.trim();var u=$("#_storeName").val();var a=0;AddTransaction(n,u,r,i,s,o);$(".CartproductTable table tr").each(function(r){if(a!=0){var i=$(this).find(".qtycls")[0].innerHTML.trim();var s=$(this).find(".titlecls")[0].innerHTML.trim();var o=$(this).find(".isbncls")[0].innerHTML.trim();if($(this).find(".isbncls").find("a").length>0)o=$(this).find(".isbncls").find("a")[0].innerHTML.trim();var u=$(this).find(".discountRrp").val().trim();if(parseInt(u)==0)u=$(this).find(".unitRrp").val().trim();var f=$(this).find(".prodauthor").val().trim();if(r==e-1)t=true;AddItem(n,o,s,f,u,i,t)}a=1})}}function GAPushTrackEvent(e,t,n){_gaq.push(["_trackEvent",e,t,n])}function GAPushTrackPageView(e){_gaq.push(["_trackPageview",e])}function checkKeycode(e){var t;if(window.event){t=window.event.keyCode}else{if(e){t=e.which}}if(t==116){isClose=true}}function somefunction(){isClose=true}function doUnload(){if(!isClose){httpGet(GetFile("/DesktopModules/Dashboard/Components/Handlers/DashboardHandler.ashx?key=userdetail"))}}function httpGet(e){var t=null;t=new XMLHttpRequest;t.open("GET",e,false);t.send(null);return t.responseText}function GetQueryStringParamsls(e){var t=window.location.search.substring(1);var n=t.split("&");for(var r=0;r<n.length;r++){var i=n[r].split("=");if(i[0]==e){return i[1]}}}var domainName;var _gaq=_gaq||[];if(window.location.host.indexOf("com.au")>-1){domainName="cengagelearning.com.au";_gaq.push(["_setAccount","UA-46157015-1"])}else{if(window.location.host.indexOf("co.nz")>-1){domainName="cengagelearning.co.nz";_gaq.push(["_setAccount","UA-46157015-2"])}}_gaq.push(["_setDomainName",domainName]);_gaq.push(["_setAllowLinker",true]);$(window).bind("load",function(){if($("#PriceCurrencyMetatag")[0]==undefined){_gaq.push(["_trackPageview"])}});(function(){var e=document.createElement("script");e.type="text/javascript";e.async=true;e.src=("https:"==document.location.protocol?"https://":"http://")+"stats.g.doubleclick.net/dc.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})();$(".k-overlay").live("click",function(){var e=$(".k-overlay").next()[0].children[1].id;var t=$("#"+e).data("kendoWindow");if(t){t.close()}});$(document).ready(function(){$("a").mouseup(function(){href=$(this).attr("href");if(href!=undefined&&href!==null){href_lower=href.toLowerCase();if(href_lower.substr(-3)=="pdf"||href_lower.substr(-3)=="xls"||href_lower.substr(-3)=="doc"||href_lower.substr(-3)=="mp3"||href_lower.substr(-3)=="mp4"||href_lower.substr(-3)=="flv"||href_lower.substr(-3)=="txt"||href_lower.substr(-3)=="csv"||href_lower.substr(-3)=="zip"){_gaq.push(["_trackEvent","Downloads",href_lower.substr(-3),href])}if(href_lower.substr(0,4)=="http"){var e=document.domain.replace("www.","");if(href_lower.indexOf(e)==-1){href=href.replace("http://","");href=href.replace("https://","");_gaq.push(["_trackEvent","Outbound Traffic","Click",href])}}else{if(href_lower.indexOf("mailto:")!==-1){$(this).click(function(){var e=href.replace(/^mailto\:/i,"");_gaq.push(["_trackEvent","Email","Click",e])})}}}});if($("#_userDomainForGA")[0]!=undefined){if($("#_userDomainForGA").val()!=""){_gaq.push(["_setCustomVar",1,"LoggedIn",$("#_userDomainForGA").val(),2])}}if($("#_successSignForGA")[0]!=undefined){if($("#_successSignForGA").val()!=""){GAPushTrackPageView("/Goal/signup/")}}var e=GetQueryStringParamsls("action");if(e!=undefined){OpenWindow()}var t=document.location.toString().toLowerCase();if(t.indexOf("type=auto")>-1&&$("#TrialUserSkHiddenField").val()==0){OpenLoginWindow("")}});var isClose=false;document.onkeydown=checkKeycode;$(document).ready(function(){$("#dnn_cp_RibbonBar_ControlPanel").prepend('<ul class="dnnadminmega dnnRight" style="padding-left: 20px"><li class="root"><a href="/Logoff.aspx">Log Out</a></li></ul>')});var ua=navigator.userAgent.toLowerCase();var isWinXP=ua.indexOf("windows nt 5.1")>0;if(isWinXP){$("html").addClass("win-xp")}$(window).bind("beforeunload",function(e){if(window.event.clientX<0||window.event.clientY<0){httpGet(GetFile("/DesktopModules/Dashboard/Components/Handlers/DashboardHandler.ashx?key=userdetail"))}});var os;(function(e){var t="Unbekannt";var n="";if(screen.width){width=screen.width?screen.width:"";height=screen.height?screen.height:"";n+=""+width+" x "+height}var r=navigator.appVersion;var i=navigator.userAgent;var s=navigator.appName;var o=""+parseFloat(navigator.appVersion);var u=parseInt(navigator.appVersion,10);var a,f,l;if((f=i.indexOf("Opera"))!=-1){s="Opera";o=i.substring(f+6);if((f=i.indexOf("Version"))!=-1){o=i.substring(f+8)}}else{if((f=i.indexOf("MSIE"))!=-1){s="Microsoft Internet Explorer";o=i.substring(f+5)}else{if((f=i.indexOf("Chrome"))!=-1){s="Chrome";o=i.substring(f+7)}else{if((f=i.indexOf("Safari"))!=-1){s="Safari";o=i.substring(f+7);if((f=i.indexOf("Version"))!=-1){o=i.substring(f+8)}}else{if((f=i.indexOf("Firefox"))!=-1){s="Firefox";o=i.substring(f+8)}else{if((a=i.lastIndexOf(" ")+1)<(f=i.lastIndexOf("/"))){s=i.substring(a,f);o=i.substring(f+1);if(s.toLowerCase()==s.toUpperCase()){s=navigator.appName}}}}}}}if((l=o.indexOf(";"))!=-1){o=o.substring(0,l)}if((l=o.indexOf(" "))!=-1){o=o.substring(0,l)}u=parseInt(""+o,10);if(isNaN(u)){o=""+parseFloat(navigator.appVersion);u=parseInt(navigator.appVersion,10)}var c=/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(r);var h=navigator.cookieEnabled?true:false;if(typeof navigator.cookieEnabled=="undefined"&&!h){document.cookie="testcookie";h=document.cookie.indexOf("testcookie")!=-1?true:false}var p=t;var d=[{s:"Windows 3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows ME",r:/Windows ME/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var v in d){var m=d[v];if(m.r.test(i)){p=m.s;break}}var g=t;if(/Windows/.test(p)){g=/Windows (.*)/.exec(p)[1];p="Windows"}switch(p){case"Mac OS X":g=/Mac OS X (10[\.\_\d]+)/.exec(i)[1];break;case"Android":g=/Android ([\.\_\d]+)/.exec(i)[1];break;case"iOS":g=/OS (\d+)_(\d+)_?(\d+)?/.exec(r);g=g[1]+"."+g[2]+"."+(g[3]|0);break}e.jscd={screen:n,browser:s,browserVersion:o,mobile:c,os:p,osVersion:g,cookies:h};if(Math.floor(jscd.browserVersion)==6){$("html").addClass("safari mobile ipad ios6")}})(this);function OpenAsianCountryWindow(){$(".ddlcountry").click()};